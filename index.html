<head>

</head>

<body>
    <input type="text" id="userInput">
    <button type="button" class="submitBtn">Submit</button>

    <h1>Output</h1>
    <ul id="outputList">

    </ul>

    <div id="like_button_container"></div>

</body>


<script>

document.addEventListener("DOMContentLoaded", function() {
    var button = document.querySelector('.submitBtn');

    button.addEventListener("click", function(e) {
        e.preventDefault();
        console.log("click!");
        var userInput = document.querySelector('#userInput').value;

        const data = {
        prompt: document.querySelector('#userInput').value,
        temperature: 0.5,
        max_tokens: 4,
        top_p: 1.0,
        frequency_penalty: 0.0,
        presence_penalty: 0.0,
        };
        
        fetch("https://api.openai.com/v1/engines/text-curie-001/completions", {
        method: "POST",
        headers: {
        "Content-Type": "application/json",
        Authorization: `Bearer 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`,
        },
        body: JSON.stringify(data),
        })
        .then(response => response.json())
        .then(
            (data) => { console.log(data.choices[0].text) 


            var ul = document.getElementById("outputList");
            var li1 = document.createElement("li");
            var li2 = document.createElement("li");
            li1.innerHTML = document.querySelector('#userInput').value;
            li2.appendChild(document.createTextNode(data.choices[0].text));
            li1.appendChild(li2);
            ul.appendChild(li1);
        }
        );
    });
});


</script>